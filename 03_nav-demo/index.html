<!DOCTYPE html>
<html lang="zh-Hans">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style.css" class="rel">
</head>

<body>
    <header></header>
    <main>
        <div id='x' class="wrapper">

        </div>
    </main>
    <footer></footer>
    <script>
        var keys = {
            0: ['q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p'],
            1: ['a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l'],
            2: ['z', 'x', 'c', 'v', 'b', 'n', 'm'],
            length: 3
        }
        var hash = {
            'q': 'qq.com',
            'w': undefined,
            'e': undefined,
            'r': undefined,
            't': undefined,
            'y': undefined,
            'u': undefined,
            'o': undefined,
            'p': undefined,
            'a': undefined,
            's': undefined,
            'd': undefined,
            'f': undefined,
            'g': undefined,
            'j': undefined,
            'k': undefined,
            'l': undefined,
            'z': undefined,
            'x': undefined,
            'c': undefined,
            'v': undefined,
            'b': undefined,
            'n': undefined,
            'm': undefined,
        }

        var localHash = JSON.parse(localStorage.getItem('saveKeys') || 'null')
        if (localHash) {
            hash = localHash
        }

        for (index = 0; index < keys.length; index++) {
            div1 = document.createElement('div')
            x.appendChild(div1)
            for (index2 = 0; index2 < keys[index].length; index2++) {
                kbd1 = document.createElement('kbd')
                div1.appendChild(kbd1)
                kbd1.textContent = keys[index][index2]
                buttonX = document.createElement('button')
                buttonX.textContent = 'Edit'
                buttonX.id = keys[index][index2]
                kbd1.appendChild(buttonX)
                buttonX.onclick = function (input) {
                    // inputKey = input.target.id
                    // x = prompt('Give me a website')
                    hash[input.target.id] = prompt('Give me a website') //hash变更
                    localStorage.setItem('saveKeys', JSON.stringify(hash))
                }
            }
        }

        document.onkeypress = function (input) {
            inputKey = input['key']
            webSite = hash[inputKey]
            console.log(webSite)
            // location.href = 'http://' + webSite
            window.open('http://' + webSite)
        }
    </script>
</body>

</html>